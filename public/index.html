<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Gesetze-Mapper</title>
<style>
body{font-family:system-ui,sans-serif;max-width:640px;margin:2rem auto}
textarea{width:100%;height:6rem;font:1rem/1.4 monospace;padding:.6rem}
a{color:dodgerblue;text-decoration:none}
a:hover{text-decoration:underline}
</style>
</head>
<body>
<h1>Gesetze-Mapper</h1>

<textarea id="input" placeholder="z. B. 111 BGB oder 1 4 BGB"></textarea>
<div id="out"></div>

<script>
const inp = document.getElementById('input');
const out = document.getElementById('out');

inp.addEventListener('input', async () => {
  out.textContent = '';
  const txt = inp.value.trim();
  if (!txt) return;

  try {
    const r = await fetch('/map?q='+encodeURIComponent(txt));
    if (!r.ok) throw new Error('API-Fehler');
    const {url} = await r.json();
    out.innerHTML = `<a href="${url}" target="_blank">${txt} âžœ ${url}</a>`;
  } catch (e) {
    out.textContent = 'Konnte URL nicht ermitteln';
  }
});
</script>
</body>
</html>
